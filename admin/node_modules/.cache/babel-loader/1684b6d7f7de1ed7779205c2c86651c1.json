{"ast":null,"code":"var _jsxFileName = \"/home/oem/React/ServiceOfTutorials/frontend/src/Article.js\";\nimport React, { Component } from 'react';\nimport Service from './Service';\nimport Comments from './Comments';\nimport { Link } from 'react-router-dom';\nimport { multilanguage, changeLanguage, loadLanguages } from \"redux-multilanguage\";\nimport { connect } from 'react-redux';\nconst service = new Service();\n\nclass PREArticle extends Component {\n  constructor(props) {\n    super(props);\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    let article = [];\n    this.state = {\n      article: article,\n      id: params.pk\n    };\n  }\n\n  componentDidMount() {\n    var self = this;\n    let fref = 'Article' + this.state.id;\n    const {\n      strings,\n      currentLanguageCode\n    } = this.props;\n    service.getArticle({\n      id: this.state.id,\n      leng: currentLanguageCode\n    }).then(function (result) {\n      if (result && result[0]) {\n        self.setState({\n          article: result[0].article\n        });\n      }\n    });\n  }\n\n  componentWillUpdate(prevProps) {\n    var self = this;\n\n    if (prevProps.currentLanguageCode !== this.props.currentLanguageCode) {\n      service.getArticle({\n        id: self.state.id,\n        leng: prevProps.currentLanguageCode\n      }).then(function (result) {\n        if (result && result[0]) {\n          self.setState({\n            article: result[0].article\n          });\n        }\n      });\n    }\n  }\n\n  styleOfArticle(key) {\n    if (key[1] === \"code\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        className: \"article__code\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 16\n        }\n      }, key[0]);\n    } else if (key[1] === \"text\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        className: \"article__text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }\n      }, key[0]);\n    } else if (key[1] === \"link\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        className: \"article__link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: key[2],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }\n      }, \" \", key[0]));\n    } else if (key[1] === \"header\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        className: \"article__header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }\n      }, key[0]);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n\n    if (params.pk !== this.state.opend) {\n      this.setState({\n        opend: params.pk\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"article__container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, this.state.article.map(moment => this.styleOfArticle(moment)), /*#__PURE__*/React.createElement(Link, {\n      className: \"article__readact btn btn-success\",\n      to: \"/ArticleRedactor/\" + this.state.opend,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, \"\\u041F\\u0440\\u0435\\u0434\\u043B\\u043E\\u0436\\u0438\\u0442\\u044C \\u0438\\u0441\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(Comments, {\n      id: this.state.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\n\nconst Article = connect()(multilanguage(PREArticle));\nexport default Article;","map":{"version":3,"sources":["/home/oem/React/ServiceOfTutorials/frontend/src/Article.js"],"names":["React","Component","Service","Comments","Link","multilanguage","changeLanguage","loadLanguages","connect","service","PREArticle","constructor","props","match","params","article","state","id","pk","componentDidMount","self","fref","strings","currentLanguageCode","getArticle","leng","then","result","setState","componentWillUpdate","prevProps","styleOfArticle","key","componentDidUpdate","opend","render","map","moment","Article"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAkC,OAAlC;AAEA,OAAQC,OAAR,MAAuB,WAAvB;AACA,OAAQC,QAAR,MAAsB,YAAtB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,aAAT,EAAwBC,cAAxB,EAAwCC,aAAxC,QAA4D,qBAA5D;AACA,SAAUC,OAAV,QAAyB,aAAzB;AAGA,MAAOC,OAAO,GAAK,IAAKP,OAAL,EAAnB;;AAEA,MAAMQ,UAAN,SAAyBT,SAAzB,CAAkC;AAEhCU,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,UAAM;AAAEC,MAAAA,KAAK,EAAE;AAAEC,QAAAA;AAAF;AAAT,QAAwB,KAAKF,KAAnC;AACA,QAAIG,OAAO,GAAG,EAAd;AACA,SAAKC,KAAL,GAAa;AACXD,MAAAA,OAAO,EAAGA,OADC;AAEXE,MAAAA,EAAE,EAAEH,MAAM,CAACI;AAFA,KAAb;AAID;;AAGDC,EAAAA,iBAAiB,GAAE;AACjB,QAAKC,IAAI,GAAK,IAAd;AACA,QAAIC,IAAI,GAAG,YAAU,KAAKL,KAAL,CAAWC,EAAhC;AACA,UAAM;AAAEK,MAAAA,OAAF;AAAWC,MAAAA;AAAX,QAAmC,KAAKX,KAA9C;AACAH,IAAAA,OAAO,CAACe,UAAR,CAAmB;AAACP,MAAAA,EAAE,EAAE,KAAKD,KAAL,CAAWC,EAAhB;AAAoBQ,MAAAA,IAAI,EAAEF;AAA1B,KAAnB,EAAoEG,IAApE,CAAyE,UAAUC,MAAV,EAAkB;AACzF,UAAIA,MAAM,IAAIA,MAAM,CAAC,CAAD,CAApB,EAAyB;AACvBP,QAAAA,IAAI,CAACQ,QAAL,CAAc;AAAEb,UAAAA,OAAO,EAAEY,MAAM,CAAC,CAAD,CAAN,CAAUZ;AAArB,SAAd;AACD;AACF,KAJD;AAKD;;AACDc,EAAAA,mBAAmB,CAACC,SAAD,EAAY;AAC7B,QAAKV,IAAI,GAAK,IAAd;;AACA,QAAGU,SAAS,CAACP,mBAAV,KAAkC,KAAKX,KAAL,CAAWW,mBAAhD,EAAoE;AAClEd,MAAAA,OAAO,CAACe,UAAR,CAAmB;AAACP,QAAAA,EAAE,EAAEG,IAAI,CAACJ,KAAL,CAAWC,EAAhB;AAAoBQ,QAAAA,IAAI,EAAGK,SAAS,CAACP;AAArC,OAAnB,EAA+EG,IAA/E,CAAoF,UAAUC,MAAV,EAAkB;AACpG,YAAKA,MAAM,IAAIA,MAAM,CAAC,CAAD,CAArB,EAA2B;AACzBP,UAAAA,IAAI,CAACQ,QAAL,CAAc;AAAEb,YAAAA,OAAO,EAAEY,MAAM,CAAC,CAAD,CAAN,CAAUZ;AAArB,WAAd;AACD;AAEF,OALD;AAMD;AACF;;AAEDgB,EAAAA,cAAc,CAACC,GAAD,EAAM;AAClB,QAAIA,GAAG,CAAC,CAAD,CAAH,KAAW,MAAf,EAAuB;AACrB,0BAAS;AAAK,QAAA,GAAG,EAAEA,GAAV;AAAe,QAAA,SAAS,EAAC,eAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACEA,GAAG,CAAC,CAAD,CADL,CAAT;AAGD,KAJD,MAIO,IAAGA,GAAG,CAAC,CAAD,CAAH,KAAW,MAAd,EAAqB;AAC1B,0BAAQ;AAAK,QAAA,GAAG,EAAEA,GAAV;AAAe,QAAA,SAAS,EAAC,eAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGA,GAAG,CAAC,CAAD,CADN,CAAR;AAGD,KAJM,MAIA,IAAGA,GAAG,CAAC,CAAD,CAAH,KAAW,MAAd,EAAqB;AAC1B,0BAAQ;AAAK,QAAA,GAAG,EAAEA,GAAV;AAAe,QAAA,SAAS,EAAC,eAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,IAAI,EAAEA,GAAG,CAAC,CAAD,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAmBA,GAAG,CAAC,CAAD,CAAtB,CADF,CAAR;AAGD,KAJM,MAIA,IAAGA,GAAG,CAAC,CAAD,CAAH,KAAW,QAAd,EAAuB;AAC5B,0BAAQ;AAAK,QAAA,GAAG,EAAEA,GAAV;AAAe,QAAA,SAAS,EAAC,iBAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGA,GAAG,CAAC,CAAD,CADN,CAAR;AAGD;AACF;;AAGDC,EAAAA,kBAAkB,CAACH,SAAD,EAAY;AAC5B,UAAM;AAAEjB,MAAAA,KAAK,EAAE;AAAEC,QAAAA;AAAF;AAAT,QAAwB,KAAKF,KAAnC;;AACA,QAAIE,MAAM,CAACI,EAAP,KAAc,KAAKF,KAAL,CAAWkB,KAA7B,EAAoC;AAClC,WAAKN,QAAL,CAAc;AAACM,QAAAA,KAAK,EAAEpB,MAAM,CAACI;AAAf,OAAd;AACD;AACF;;AAGDiB,EAAAA,MAAM,GAAG;AAEP,wBACI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,KAAKnB,KAAL,CAAWD,OAAX,CAAmBqB,GAAnB,CAAwBC,MAAM,IAC5B,KAAKN,cAAL,CAAoBM,MAApB,CADF,CAFJ,eAOE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,kCAAhB;AAAmD,MAAA,EAAE,EAAE,sBAAoB,KAAKrB,KAAL,CAAWkB,KAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yIAPF,eAUE,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAE,KAAKlB,KAAL,CAAWC,EAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVF,CADJ;AAcD;;AAjF+B;;AAmFlC,MAAMqB,OAAO,GAAG9B,OAAO,GAAGH,aAAa,CAACK,UAAD,CAAhB,CAAvB;AAEA,eAAe4B,OAAf","sourcesContent":["import React, { Component }  from 'react';\n\nimport  Service  from  './Service';\nimport  Comments from './Comments';\nimport { Link } from 'react-router-dom';\nimport { multilanguage, changeLanguage, loadLanguages} from \"redux-multilanguage\";\nimport  { connect } from 'react-redux'\n\n\nconst  service  =  new  Service();\n\nclass PREArticle extends Component{\n\n  constructor(props) {\n    super(props);\n\n    const { match: { params } } = this.props;\n    let article = []\n    this.state = {\n      article:  article,\n      id: params.pk\n    };\n  }\n\n\n  componentDidMount(){\n    var  self  =  this;\n    let fref = 'Article'+this.state.id\n    const { strings, currentLanguageCode } = this.props;\n    service.getArticle({id: this.state.id, leng: currentLanguageCode }).then(function (result) {      \n      if (result && result[0]) {\n        self.setState({ article: result[0].article })\n      }  \n    });\n  }\n  componentWillUpdate(prevProps) {\n    var  self  =  this;\n    if(prevProps.currentLanguageCode !== this.props.currentLanguageCode){\n      service.getArticle({id: self.state.id, leng:  prevProps.currentLanguageCode }).then(function (result) {  \n        if ( result && result[0] ) {\n          self.setState({ article: result[0].article })\n        }    \n        \n      });\n    }\n  }\n\n  styleOfArticle(key) {\n    if (key[1] === \"code\") {\n      return  (<div key={key} className=\"article__code\">\n                {key[0]}\n              </div>)\n    } else if(key[1] === \"text\"){\n      return (<div key={key} className=\"article__text\">\n                {key[0]}\n              </div>)\n    } else if(key[1] === \"link\"){\n      return (<div key={key} className=\"article__link\">\n                <a href={key[2]}> {key[0]}</a>\n              </div>)\n    } else if(key[1] === \"header\"){\n      return (<div key={key} className=\"article__header\">\n                {key[0]}\n              </div>)\n    }\n  }\n\n\n  componentDidUpdate(prevProps) {\n    const { match: { params } } = this.props;\n    if (params.pk !== this.state.opend) {\n      this.setState({opend: params.pk});\n    }\n  }\n  \n\n  render() {\n\n    return(\n        <div className=\"article__container\">\n          { \n            this.state.article.map( moment  =>\n              this.styleOfArticle(moment)\n            )\n          }\n\n          <Link className=\"article__readact btn btn-success\" to={\"/ArticleRedactor/\"+this.state.opend}>\n            Предложить исправление\n          </Link>\n          <Comments id={this.state.id}/>\n      </div>\n    );\n  }\n}\nconst Article = connect()(multilanguage(PREArticle));\n\nexport default Article;\n"]},"metadata":{},"sourceType":"module"}