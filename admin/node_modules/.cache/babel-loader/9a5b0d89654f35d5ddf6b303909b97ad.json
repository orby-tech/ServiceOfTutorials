{"ast":null,"code":"var _jsxFileName = \"/home/oem/ServiceOfTutorials/frontend/src/Catalog.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Service from './Service';\nconst service = new Service();\n\nclass Catalog extends Component {\n  constructor(props) {\n    super(props);\n    this.findClick = this.findClick.bind(this);\n    let catalog = [];\n\n    if (localStorage.getItem('catalog')) {\n      catalog = JSON.parse(localStorage.getItem('catalog'));\n    }\n\n    this.state = {\n      catalog: catalog,\n      find: null,\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    var self = this;\n    service.getCatalog().then(function (result) {\n      if (!localStorage.getItem('catalog') || JSON.parse(localStorage.getItem('catalog')) !== result) {\n        self.setState({\n          catalog: result\n        });\n        localStorage.setItem('catalog', JSON.stringify(result));\n      }\n\n      self.setState({\n        loading: false\n      });\n    });\n  }\n\n  catalog_finded(temp) {\n    temp = temp.toLowerCase();\n    let str = this.state.find ? this.state.find.toLowerCase() : null;\n    return temp.indexOf(str) !== -1 ? \"catalog__finded-style\" : \"\";\n  }\n\n  findClick() {\n    this.setState({\n      find: document.getElementById(\"catalog__input-find-group\").value\n    });\n  }\n\n  modStyle(second) {\n    if (second[2] && second[2] === \"unmod\") {\n      return \"catalog__second-level-unmod\";\n    } else if (second[2] && second[2] === \"noDisplay\") {\n      return \"catalog__second-level-delete\";\n    } else {\n      return \"catalog_second-level\";\n    }\n  }\n\n  modInfo(second) {\n    if (second[2] && second[2] === \"unmod\") {\n      return \" (На проверке)\";\n    } else if (second[2] && second[2] === \"noDisplay\") {}\n  }\n\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cssload-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cssload-zenith\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }\n      })));\n    } else return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"catalog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, \" \\u041A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433 \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"catalog__header-find-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, \" \\u041D\\u0430\\u0439\\u0442\\u0438 \\u0432 \\u043A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433\\u0435:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control catalog__input-find-group\",\n      id: \"catalog__input-find-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"form-control catalog__button-find-group\",\n      onClick: this.findClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, \"\\u041D\\u0430\\u0439\\u0442\\u0438\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }), this.state.catalog.map(global => /*#__PURE__*/React.createElement(\"div\", {\n      key: global,\n      className: \"catalog_global-level\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: this.catalog_finded(global[0]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, global[0]), global.slice(1).map(first => /*#__PURE__*/React.createElement(\"div\", {\n      key: first,\n      className: \"catalog_first-level\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: this.catalog_finded(first[0]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 23\n      }\n    }, first[0]), first[1].map(second => /*#__PURE__*/React.createElement(\"div\", {\n      key: second,\n      className: this.modStyle(second),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: this.catalog_finded(second[0]),\n      to: \"/Article/\" + second[1],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 29\n      }\n    }, second[0]), this.modInfo(second), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"catalog__reit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 29\n      }\n    }, \"(\" + second[3] + \")\")))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alt__footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alt__footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alt__footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }));\n  }\n\n}\n\nexport default Catalog;","map":{"version":3,"sources":["/home/oem/ServiceOfTutorials/frontend/src/Catalog.js"],"names":["React","Component","Link","Service","service","Catalog","constructor","props","findClick","bind","catalog","localStorage","getItem","JSON","parse","state","find","loading","componentDidMount","self","getCatalog","then","result","setState","setItem","stringify","catalog_finded","temp","toLowerCase","str","indexOf","document","getElementById","value","modStyle","second","modInfo","render","map","global","slice","first"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\n\nimport { Link } from 'react-router-dom';\nimport  Service  from  './Service';\n\n\n\nconst  service  =  new  Service();\n\n\nclass Catalog extends Component{\n  constructor(props) {\n    super(props);\n    this.findClick = this.findClick.bind(this)\n\n\n    let catalog = []\n    if(localStorage.getItem('catalog')){\n      catalog = JSON.parse(localStorage.getItem('catalog'))\n    }\n    this.state = {\n      catalog: catalog,\n      find: null,\n      loading: false\n    }\n  }\n  componentDidMount(){\n    var  self  =  this;\n    service.getCatalog().then(function (result) {\n      if(!localStorage.getItem('catalog') || JSON.parse(localStorage.getItem('catalog')) !== result){\n        self.setState({ catalog: result })\n        localStorage.setItem('catalog', JSON.stringify(result))\n      }\n      self.setState({ loading: false })\n    });\n  }\n\n\n  catalog_finded(temp) {\n    temp= temp.toLowerCase()\n    let str = this.state.find ? this.state.find.toLowerCase() : null\n    return temp.indexOf(str) !== -1 ? \"catalog__finded-style\" : \"\"\n  }\n\n\n  findClick(){\n    this.setState({find: document.getElementById(\"catalog__input-find-group\").value})\n  }\n\n\n  modStyle(second) {\n    if (second[2] && second[2] === \"unmod\") {\n      return \"catalog__second-level-unmod\"\n    } else if (second[2] && second[2] === \"noDisplay\") {\n      return \"catalog__second-level-delete\"\n    } else {\n      return \"catalog_second-level\"\n    }\n  }\n\n\n  modInfo(second) {\n    if(second[2] && second[2] === \"unmod\"){\n      return \" (На проверке)\"\n    } else if(second[2] && second[2] === \"noDisplay\"){}\n  }  \n\n  \n  render() {\n    if (this.state.loading) {\n      return (\n        <>\n        <div className=\"cssload-container\">\n            <div className=\"cssload-zenith\"></div>\n        </div>\n        </>\n      )\n    \n    } else return(   \n      <>\n      <div className=\"catalog\">\n\n        <h1> Каталог </h1>\n          <div className=\"catalog__header-find-group\"> Найти в каталоге:</div>\n          <input className=\"form-control catalog__input-find-group\"\n                  id=\"catalog__input-find-group\"/>\n          <button className=\"form-control catalog__button-find-group\"\n                  onClick={this.findClick}>\n            Найти\n          </button>\n          <div/>\n          { \n            this.state.catalog.map( global  =>\n              <div key={global} className=\"catalog_global-level\">\n                <h2 className={this.catalog_finded(global[0])}>{global[0]}</h2>\n                { \n                  global.slice(1).map( first  =>\n                    <div key={first} className=\"catalog_first-level\">\n                      <h4 className={this.catalog_finded(first[0])}>{first[0]}</h4>\n                      { \n                        first[1].map( second  =>\n                          <div key={second} className={this.modStyle(second)}>\n                            <Link\n                            className={this.catalog_finded(second[0])}\n                            to={\"/Article/\"+second[1]}>{second[0]}</Link>\n                            {this.modInfo(second)}\n                            <div className=\"catalog__reit\" >{\"(\"+second[3]+\")\"}</div>\n                            \n                          </div>\n                        )\n                      }\n                    </div>\n                  )\n                }\n              </div>\n            )\n          }\n\n        \n      </div>\n\n      <div className=\"alt__footer\"></div>\n      <div className=\"alt__footer\"></div>\n      <div className=\"alt__footer\"></div>\n      </>\n    );\n  }\n}\n\nexport default Catalog;"]},"metadata":{},"sourceType":"module"}