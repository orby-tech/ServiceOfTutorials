{"ast":null,"code":"var _jsxFileName = \"/home/oem/ServiceOfTutorials/frontend/src/Catalog.tsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Service from './Service';\nimport { FindForm } from './FindCatalog.tsx';\nconst service = new Service();\n\nclass Catalog extends Component {\n  constructor(props) {\n    super(props);\n\n    this.FindFormHandler = title => {\n      this.setState({\n        find: title\n      });\n    };\n\n    let catalog = [];\n\n    if (localStorage.getItem('catalog')) {\n      catalog = JSON.parse(localStorage.getItem('catalog'));\n    }\n\n    this.state = {\n      catalog: catalog,\n      find: null,\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    var self = this;\n    service.getCatalog().then(function (result) {\n      if (!localStorage.getItem('catalog') || JSON.parse(localStorage.getItem('catalog')) !== result) {\n        self.setState({\n          catalog: result\n        });\n        localStorage.setItem('catalog', JSON.stringify(result));\n      }\n\n      self.setState({\n        loading: false\n      });\n    });\n  }\n\n  catalog_finded(temp) {\n    if (!this.state.find) {\n      return \"\";\n    } else if (temp.toLowerCase().indexOf(this.state.find.toLowerCase()) !== -1) {\n      return \"\";\n    } else {\n      return \"admin__nonDisplay\";\n    }\n  }\n\n  catalogFindGlobal(temp) {\n    if (!this.state.find) {\n      return \"catalog_global-level\";\n    } else if (temp.join(\" \").toLowerCase().indexOf(this.state.find.toLowerCase()) !== -1) {\n      return \"catalog_global-level\";\n    } else {\n      return \"admin__nonDisplay\";\n    }\n  }\n\n  catalogFindFirst(temp) {\n    if (!this.state.find) {\n      return \"catalog_first-level\";\n    } else if (temp.join(\" \").toLowerCase().indexOf(this.state.find.toLowerCase()) !== -1) {\n      return \"catalog_first-level\";\n    } else {\n      return \"admin__nonDisplay\";\n    }\n  }\n\n  modStyle(second) {\n    if (second[2] && second[2] === \"unmod\") {\n      return \"catalog__second-level-unmod\";\n    } else if (second[2] && second[2] === \"noDisplay\") {\n      return \"catalog__second-level-delete\";\n    } else {\n      return \"catalog_second-level\";\n    }\n  }\n\n  modInfo(second) {\n    if (second[2] && second[2] === \"unmod\") {\n      return \" (На проверке)\";\n    } else if (second[2] && second[2] === \"noDisplay\") {}\n  }\n\n  displayList(first) {\n    return first.map(second => /*#__PURE__*/React.createElement(\"div\", {\n      key: second,\n      className: this.catalog_finded(second[0]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: this.catalog_finded(second[0]),\n      to: \"/Article/\" + second[1],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, second[0]), this.modInfo(second), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"catalog__reit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, \"(\" + second[3] + \")\")));\n  }\n\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cssload-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cssload-zenith\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }\n      })));\n    } else return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"catalog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }, \" \\u041A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433 \"), /*#__PURE__*/React.createElement(FindForm, {\n      onAdd: this.FindFormHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"catalog__container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }, this.state.catalog.map(global => /*#__PURE__*/React.createElement(\"div\", {\n      key: global,\n      className: this.catalogFindGlobal(global),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, global[0]), global.slice(1).map(first => /*#__PURE__*/React.createElement(\"div\", {\n      key: first,\n      className: this.catalogFindFirst(first),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 23\n      }\n    }, first[0]), this.displayList(first[1]))))))));\n  }\n\n}\n\nexport default Catalog;","map":{"version":3,"sources":["/home/oem/ServiceOfTutorials/frontend/src/Catalog.tsx"],"names":["React","Component","Link","Service","FindForm","service","Catalog","constructor","props","FindFormHandler","title","setState","find","catalog","localStorage","getItem","JSON","parse","state","loading","componentDidMount","self","getCatalog","then","result","setItem","stringify","catalog_finded","temp","toLowerCase","indexOf","catalogFindGlobal","join","catalogFindFirst","modStyle","second","modInfo","displayList","first","map","render","global","slice"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\n\nimport { Link } from 'react-router-dom';\n\n\nimport  Service  from  './Service';\nimport { FindForm } from './FindCatalog.tsx';\nconst  service  =  new  Service();\n\ninterface ParentState {\n  find:string;\n  catalog:any[];\n  loading:boolean;\n}\n\n\nclass Catalog extends Component<{}, ParentState>{\n  constructor(props) {\n    super(props);\n\n\n    let catalog : any [] = []\n    if(localStorage.getItem('catalog')){\n      catalog = JSON.parse(localStorage.getItem('catalog'))\n    }\n    this.state = {\n      catalog: catalog,\n      find: null,\n      loading: false\n    }\n  }\n  componentDidMount(){\n    var  self  =  this;\n    service.getCatalog().then(function (result) {\n      if(!localStorage.getItem('catalog') || JSON.parse(localStorage.getItem('catalog')) !== result){\n        self.setState({ catalog: result })\n        localStorage.setItem('catalog', JSON.stringify(result))\n      }\n      self.setState({ loading: false })\n    });\n  }\n\n\n  catalog_finded(temp) {\n\n    if (!this.state.find){\n      return \"\"\n    } else if(temp.toLowerCase().indexOf(this.state.find.toLowerCase()) !== -1) {\n      return \"\"\n    } else {\n      return \"admin__nonDisplay\"\n    }\n  }\n\n  catalogFindGlobal (temp) {\n    if (!this.state.find){\n      return \"catalog_global-level\"\n    } else if(temp.join(\" \").toLowerCase().indexOf(this.state.find.toLowerCase()) !== -1) {\n      return \"catalog_global-level\"\n    } else {\n      return \"admin__nonDisplay\"\n    }\n    \n  }\n  catalogFindFirst (temp) {\n    if (!this.state.find){\n      return \"catalog_first-level\"\n    } else if(temp.join(\" \").toLowerCase().indexOf(this.state.find.toLowerCase()) !== -1) {\n      return \"catalog_first-level\"\n    } else {\n      return \"admin__nonDisplay\"\n    }\n    \n  }\n\n  modStyle(second) {\n    if (second[2] && second[2] === \"unmod\") {\n      return \"catalog__second-level-unmod\"\n    } else if (second[2] && second[2] === \"noDisplay\") {\n      return \"catalog__second-level-delete\"\n    } else {\n      return \"catalog_second-level\"\n    }\n  }\n\n\n  modInfo(second) {\n    if(second[2] && second[2] === \"unmod\"){\n      return \" (На проверке)\"\n    } else if(second[2] && second[2] === \"noDisplay\"){}\n  }  \n  displayList(first){\n    return( \n      first.map( second  =>\n        <div key={second} className={this.catalog_finded(second[0])}>\n          <Link\n          className={this.catalog_finded(second[0])}\n          to={\"/Article/\"+second[1]}>{second[0]}</Link>\n          {this.modInfo(second)}\n          <div className=\"catalog__reit\" >{\"(\"+second[3]+\")\"}</div>\n          \n        </div>\n      )\n    )\n  }\n  FindFormHandler = ( title: string ) => {\n    this.setState({ find: title })\n  }\n  \n  render() {\n    if (this.state.loading) {\n      return (\n        <>\n        <div className=\"cssload-container\">\n            <div className=\"cssload-zenith\"></div>\n        </div>\n        </>\n      )\n    \n    } else return(   \n      <>\n      <div className=\"catalog\">\n\n        <h1> Каталог </h1>\n          <FindForm onAdd={this.FindFormHandler}/>\n          <div className=\"catalog__container\">\n          { \n            this.state.catalog.map( global  =>\n              <div key={global} className={this.catalogFindGlobal(global)}>\n                <h2 >{global[0]}</h2>\n                { \n                  global.slice(1).map( first  =>\n                    <div key={first} className={this.catalogFindFirst(first)}>\n                      <h4>{first[0]}</h4>\n                      {this.displayList(first[1])}\n                    </div>\n                  )\n                }\n              </div>\n            )\n          }\n          </div>\n\n        \n      </div>\n      </>\n    );\n  }\n}\n\nexport default Catalog;"]},"metadata":{},"sourceType":"module"}