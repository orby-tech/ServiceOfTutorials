{"ast":null,"code":"import _classCallCheck from\"/home/oem/React/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/oem/React/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/oem/React/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/oem/React/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Service from'./Service';import Comments from'./Comments';import{Link}from'react-router-dom';import{multilanguage,changeLanguage,loadLanguages}from\"redux-multilanguage\";import{connect}from'react-redux';var service=new Service();var PREArticle=/*#__PURE__*/function(_Component){_inherits(PREArticle,_Component);var _super=_createSuper(PREArticle);function PREArticle(props){var _this;_classCallCheck(this,PREArticle);_this=_super.call(this,props);var params=_this.props.match.params;var article=[];var currentLanguageCode=_this.props.currentLanguageCode;var fref='Article'+params.pk+currentLanguageCode;if(localStorage.getItem(fref)){article=JSON.parse(localStorage.getItem(fref));}_this.state={article:article,id:params.pk};return _this;}_createClass(PREArticle,[{key:\"componentDidMount\",value:function componentDidMount(){var self=this;var currentLanguageCode=this.props.currentLanguageCode;var fref='Article'+this.state.id+currentLanguageCode;service.getArticle({id:this.state.id,leng:currentLanguageCode}).then(function(result){if(result&&result[0]){localStorage.setItem(fref,JSON.stringify(result[0].article));self.setState({article:result[0].article});}});}},{key:\"componentWillUpdate\",value:function componentWillUpdate(prevProps){var self=this;if(prevProps.currentLanguageCode!==this.props.currentLanguageCode){var fref='Article'+this.state.id+prevProps.currentLanguageCode;if(localStorage.getItem(fref)){var article=JSON.parse(localStorage.getItem(fref));self.setState({article:article});}service.getArticle({id:self.state.id,leng:prevProps.currentLanguageCode}).then(function(result){if(result&&result[0]){localStorage.setItem(fref,JSON.stringify(result[0].article));self.setState({article:result[0].article});}});}}},{key:\"styleOfArticle\",value:function styleOfArticle(key){if(key[1]===\"code\"){return/*#__PURE__*/React.createElement(\"div\",{key:key,className:\"article__code\"},key[0]);}else if(key[1]===\"text\"){return/*#__PURE__*/React.createElement(\"div\",{key:key,className:\"article__text\"},key[0]);}else if(key[1]===\"link\"){return/*#__PURE__*/React.createElement(\"div\",{key:key,className:\"article__link\"},/*#__PURE__*/React.createElement(\"a\",{href:key[2]},\" \",key[0]));}else if(key[1]===\"header\"){return/*#__PURE__*/React.createElement(\"div\",{key:key,className:\"article__header\"},key[0]);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var params=this.props.match.params;if(params.pk!==this.state.opend){this.setState({opend:params.pk});}}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,strings=_this$props.strings,currentLanguageCode=_this$props.currentLanguageCode;return/*#__PURE__*/React.createElement(\"div\",{className:\"article__container\"},this.state.article.map(function(moment){return _this2.styleOfArticle(moment);}),/*#__PURE__*/React.createElement(Link,{className:\"article__readact btn btn-success\",to:\"/ArticleRedactor/\"+this.state.opend},strings[\"articleEdit\"]),/*#__PURE__*/React.createElement(Comments,{id:this.state.id}));}}]);return PREArticle;}(Component);var Article=connect()(multilanguage(PREArticle));export default Article;","map":{"version":3,"sources":["/home/oem/React/ServiceOfTutorials/frontend/src/Article.js"],"names":["React","Component","Service","Comments","Link","multilanguage","changeLanguage","loadLanguages","connect","service","PREArticle","props","params","match","article","currentLanguageCode","fref","pk","localStorage","getItem","JSON","parse","state","id","self","getArticle","leng","then","result","setItem","stringify","setState","prevProps","key","opend","strings","map","moment","styleOfArticle","Article"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\n\nimport  Service  from  './Service';\nimport  Comments from './Comments';\nimport { Link } from 'react-router-dom';\nimport { multilanguage, changeLanguage, loadLanguages} from \"redux-multilanguage\";\nimport  { connect } from 'react-redux'\n\n\nconst  service  =  new  Service();\n\nclass PREArticle extends Component{\n\n  constructor(props) {\n    super(props);\n\n    const { match: { params } } = this.props;\n\n    let article = []\n    const { currentLanguageCode } = this.props;\n    let fref = 'Article'+ params.pk + currentLanguageCode\n\n    if(localStorage.getItem(fref)){\n      article = JSON.parse(localStorage.getItem(fref))\n    }\n    this.state = {\n      article:  article,\n      id: params.pk\n    };\n  }\n\n\n  componentDidMount(){\n    var  self  =  this;\n    const { currentLanguageCode } = this.props;\n    let fref = 'Article'+this.state.id + currentLanguageCode\n\n    service.getArticle({id: this.state.id, leng: currentLanguageCode }).then(function (result) {    \n        \n      if (result && result[0]) {\n        localStorage.setItem(fref, JSON.stringify(result[0].article))\n        self.setState({ article: result[0].article })\n      }  \n    });\n  }\n  componentWillUpdate(prevProps) {\n    var  self  =  this;\n    if(prevProps.currentLanguageCode !== this.props.currentLanguageCode){\n      let fref = 'Article'+ this.state.id + prevProps.currentLanguageCode\n      if(localStorage.getItem(fref)){\n        let article = JSON.parse(localStorage.getItem(fref))\n        self.setState({ article: article })\n      }\n      service.getArticle({id: self.state.id, leng:  prevProps.currentLanguageCode }).then(function (result) {  \n        if ( result && result[0] ) {\n          localStorage.setItem(fref, JSON.stringify(result[0].article))\n          self.setState({ article: result[0].article })\n        }  \n      });\n    }\n  }\n\n  styleOfArticle(key) {\n    if (key[1] === \"code\") {\n      return  (<div key={key} className=\"article__code\">\n                {key[0]}\n              </div>)\n    } else if(key[1] === \"text\"){\n      return (<div key={key} className=\"article__text\">\n                {key[0]}\n              </div>)\n    } else if(key[1] === \"link\"){\n      return (<div key={key} className=\"article__link\">\n                <a href={key[2]}> {key[0]}</a>\n              </div>)\n    } else if(key[1] === \"header\"){\n      return (<div key={key} className=\"article__header\">\n                {key[0]}\n              </div>)\n    }\n  }\n\n\n  componentDidUpdate(prevProps) {\n    const { match: { params } } = this.props;\n    if (params.pk !== this.state.opend) {\n      this.setState({opend: params.pk});\n    }\n  }\n  \n\n  render() {\n    const { strings, currentLanguageCode } = this.props;\n    return(\n        <div className=\"article__container\">\n          { \n            this.state.article.map( moment  =>\n              this.styleOfArticle(moment)\n            )\n          }\n\n          <Link className=\"article__readact btn btn-success\" to={\"/ArticleRedactor/\"+this.state.opend}>\n            {strings[\"articleEdit\"]}\n          </Link>\n          <Comments id={this.state.id}/>\n      </div>\n    );\n  }\n}\nconst Article = connect()(multilanguage(PREArticle));\n\nexport default Article;\n"]},"metadata":{},"sourceType":"module"}