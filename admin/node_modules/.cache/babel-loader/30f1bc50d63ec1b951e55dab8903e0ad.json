{"ast":null,"code":"var _jsxFileName = \"/home/oem/React/ServiceOfTutorials/frontend/src/Article.js\";\nimport React, { Component } from 'react';\nimport Service from './Service';\nimport Comments from './Comments';\nimport { Link } from 'react-router-dom';\nimport { multilanguage, changeLanguage, loadLanguages } from \"redux-multilanguage\";\nimport { connect } from 'react-redux';\nconst service = new Service();\n\nclass PREArticle extends Component {\n  constructor(props) {\n    super(props);\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n    let article = [];\n    let fref = 'Article' + params.pk;\n\n    if (localStorage.getItem(fref)) {\n      article = JSON.parse(localStorage.getItem('catalog'));\n    }\n\n    this.state = {\n      article: article,\n      id: params.pk\n    };\n  }\n\n  componentDidMount() {\n    var self = this;\n    let fref = 'Article' + this.state.id;\n    const {\n      strings,\n      currentLanguageCode\n    } = this.props;\n    service.getArticle({\n      id: this.state.id,\n      leng: currentLanguageCode\n    }).then(function (result) {\n      if (!localStorage.getItem(fref) || JSON.parse(localStorage.getItem(fref)) !== result) {\n        self.setState({\n          catalog: result\n        });\n        localStorage.setItem(fref, JSON.stringify(result));\n      }\n\n      self.setState({\n        article: result\n      });\n    });\n  }\n\n  styleOfArticle(key) {\n    if (key[1] === \"code\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        className: \"article__code\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 16\n        }\n      }, key[0]);\n    } else if (key[1] === \"text\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        className: \"article__text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }\n      }, key[0]);\n    } else if (key[1] === \"link\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        className: \"article__link\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: key[2],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }\n      }, \" \", key[0]));\n    } else if (key[1] === \"header\") {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        className: \"article__header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }\n      }, key[0]);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      match: {\n        params\n      }\n    } = this.props;\n\n    if (params.pk !== this.state.opend) {\n      this.setState({\n        opend: params.pk\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"article__container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, this.state.article.map(moment => this.styleOfArticle(moment)), /*#__PURE__*/React.createElement(Link, {\n      className: \"article__readact btn btn-success\",\n      to: \"/ArticleRedactor/\" + this.state.opend,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, \"\\u041F\\u0440\\u0435\\u0434\\u043B\\u043E\\u0436\\u0438\\u0442\\u044C \\u0438\\u0441\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(Comments, {\n      id: this.state.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\n\nconst Article = connect()(multilanguage(PREArticle));\nexport default Article;","map":{"version":3,"sources":["/home/oem/React/ServiceOfTutorials/frontend/src/Article.js"],"names":["React","Component","Service","Comments","Link","multilanguage","changeLanguage","loadLanguages","connect","service","PREArticle","constructor","props","match","params","article","fref","pk","localStorage","getItem","JSON","parse","state","id","componentDidMount","self","strings","currentLanguageCode","getArticle","leng","then","result","setState","catalog","setItem","stringify","styleOfArticle","key","componentDidUpdate","prevProps","opend","render","map","moment","Article"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\n\nimport  Service  from  './Service';\nimport  Comments from './Comments';\nimport { Link } from 'react-router-dom';\nimport { multilanguage, changeLanguage, loadLanguages} from \"redux-multilanguage\";\nimport  { connect } from 'react-redux'\n\n\nconst  service  =  new  Service();\n\nclass PREArticle extends Component{\n\n  constructor(props) {\n    super(props);\n\n    const { match: { params } } = this.props;\n    let article = []\n    let fref = 'Article'+params.pk\n    if(localStorage.getItem(fref)){\n      article = JSON.parse(localStorage.getItem('catalog'))\n    }\n    this.state = {\n      article:  article,\n      id: params.pk\n    };\n  }\n\n\n  componentDidMount(){\n    var  self  =  this;\n    let fref = 'Article'+this.state.id\n    const { strings, currentLanguageCode } = this.props;\n    service.getArticle({id: this.state.id, leng: currentLanguageCode }).then(function (result) {\n      if(!localStorage.getItem(fref) || JSON.parse(localStorage.getItem(fref)) !== result){\n        self.setState({ catalog: result })\n        localStorage.setItem(fref, JSON.stringify(result))\n      }\n      self.setState({ article: result })\n    });\n  }\n\n  styleOfArticle(key) {\n    if (key[1] === \"code\") {\n      return  (<div key={key} className=\"article__code\">\n                {key[0]}\n              </div>)\n    } else if(key[1] === \"text\"){\n      return (<div key={key} className=\"article__text\">\n                {key[0]}\n              </div>)\n    } else if(key[1] === \"link\"){\n      return (<div key={key} className=\"article__link\">\n                <a href={key[2]}> {key[0]}</a>\n              </div>)\n    } else if(key[1] === \"header\"){\n      return (<div key={key} className=\"article__header\">\n                {key[0]}\n              </div>)\n    }\n  }\n\n\n  componentDidUpdate(prevProps) {\n    const { match: { params } } = this.props;\n    if (params.pk !== this.state.opend) {\n      this.setState({opend: params.pk});\n    }\n  }\n\n  render() {\n\n    return(\n        <div className=\"article__container\">\n          { \n            this.state.article.map( moment  =>\n              this.styleOfArticle(moment)\n            )\n          }\n\n          <Link className=\"article__readact btn btn-success\" to={\"/ArticleRedactor/\"+this.state.opend}>\n            Предложить исправление\n          </Link>\n          <Comments id={this.state.id}/>\n      </div>\n    );\n  }\n}\nconst Article = connect()(multilanguage(PREArticle));\n\nexport default Article;\n"]},"metadata":{},"sourceType":"module"}