{"ast":null,"code":"import _classCallCheck from\"/home/oem/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/oem/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/oem/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/oem/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Service from'./Service';import Comments from'./Comments';import{Link}from'react-router-dom';var service=new Service();var Article=/*#__PURE__*/function(_Component){_inherits(Article,_Component);var _super=_createSuper(Article);function Article(props){var _this;_classCallCheck(this,Article);_this=_super.call(this,props);var params=_this.props.match.params;var article=[];var fref='Article'+params.pk;if(localStorage.getItem(fref)){article=JSON.parse(localStorage.getItem('catalog'));}_this.state={article:article,id:params.pk};return _this;}_createClass(Article,[{key:\"componentDidMount\",value:function componentDidMount(){var self=this;var fref='Article'+this.state.id;service.getArticle({id:this.state.id}).then(function(result){if(!localStorage.getItem(fref)||JSON.parse(localStorage.getItem(fref))!==result){self.setState({catalog:result});localStorage.setItem(fref,JSON.stringify(result));}self.setState({article:result});});}},{key:\"styleOfArticle\",value:function styleOfArticle(key){if(key[1]===\"code\"){return/*#__PURE__*/React.createElement(\"div\",{key:key,className:\"article__code\"},key[0]);}else if(key[1]===\"text\"){return/*#__PURE__*/React.createElement(\"div\",{key:key,className:\"article__text\"},key[0]);}else if(key[1]===\"link\"){return/*#__PURE__*/React.createElement(\"div\",{key:key,className:\"article__link\"},/*#__PURE__*/React.createElement(\"a\",{href:key[2]},\" \",key[0]));}else if(key[1]===\"header\"){return/*#__PURE__*/React.createElement(\"div\",{key:key,className:\"article__header\"},key[0]);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var params=this.props.match.params;if(params.pk!==this.state.opend){this.setState({opend:params.pk});}}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"article__container\"},this.state.article.map(function(moment){return _this2.styleOfArticle(moment);}),/*#__PURE__*/React.createElement(Link,{className:\"article__readact btn btn-success\",to:\"/ArticleRedactor/\"+this.state.opend},\"\\u041F\\u0440\\u0435\\u0434\\u043B\\u043E\\u0436\\u0438\\u0442\\u044C \\u0438\\u0441\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435\"),/*#__PURE__*/React.createElement(Comments,{id:this.state.id}));}}]);return Article;}(Component);export default Article;","map":{"version":3,"sources":["/home/oem/ServiceOfTutorials/frontend/src/Article.js"],"names":["React","Component","Service","Comments","Link","service","Article","props","params","match","article","fref","pk","localStorage","getItem","JSON","parse","state","id","self","getArticle","then","result","setState","catalog","setItem","stringify","key","prevProps","opend","map","moment","styleOfArticle"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\n\nimport  Service  from  './Service';\nimport  Comments from './Comments';\nimport { Link } from 'react-router-dom';\n\n\n\nconst  service  =  new  Service();\n\nclass Article extends Component{\n\n  constructor(props) {\n    super(props);\n\n    const { match: { params } } = this.props;\n    let article = []\n    let fref = 'Article'+params.pk\n    if(localStorage.getItem(fref)){\n      article = JSON.parse(localStorage.getItem('catalog'))\n    }\n    this.state = {\n      article:  article,\n      id: params.pk\n    };\n  }\n\n\n  componentDidMount(){\n    var  self  =  this;\n    let fref = 'Article'+this.state.id\n    service.getArticle({id: this.state.id}).then(function (result) {\n      if(!localStorage.getItem(fref) || JSON.parse(localStorage.getItem(fref)) !== result){\n        self.setState({ catalog: result })\n        localStorage.setItem(fref, JSON.stringify(result))\n      }\n      self.setState({ article: result })\n    });\n  }\n\n  styleOfArticle(key) {\n    if (key[1] === \"code\") {\n      return  (<div key={key} className=\"article__code\">\n                {key[0]}\n              </div>)\n    } else if(key[1] === \"text\"){\n      return (<div key={key} className=\"article__text\">\n                {key[0]}\n              </div>)\n    } else if(key[1] === \"link\"){\n      return (<div key={key} className=\"article__link\">\n                <a href={key[2]}> {key[0]}</a>\n              </div>)\n    } else if(key[1] === \"header\"){\n      return (<div key={key} className=\"article__header\">\n                {key[0]}\n              </div>)\n    }\n  }\n\n\n  componentDidUpdate(prevProps) {\n    const { match: { params } } = this.props;\n    if (params.pk !== this.state.opend) {\n      this.setState({opend: params.pk});\n    }\n  }\n\n  render() {\n\n    return(\n        <div className=\"article__container\">\n          { \n            this.state.article.map( moment  =>\n              this.styleOfArticle(moment)\n            )\n          }\n\n          <Link className=\"article__readact btn btn-success\" to={\"/ArticleRedactor/\"+this.state.opend}>\n            Предложить исправление\n          </Link>\n          <Comments id={this.state.id}/>\n      </div>\n    );\n  }\n}\n\nexport default Article;\n"]},"metadata":{},"sourceType":"module"}