{"ast":null,"code":"import _classCallCheck from\"/home/oem/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/oem/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/oem/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/oem/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import Service from'./Service';import{FindForm}from'./FindCatalog.tsx';var service=new Service();var Catalog=/*#__PURE__*/function(_Component){_inherits(Catalog,_Component);var _super=_createSuper(Catalog);function Catalog(props){var _this;_classCallCheck(this,Catalog);_this=_super.call(this,props);_this.FindFormHandler=function(title){_this.setState({find:title});};var catalog=[];if(localStorage.getItem('catalog')){catalog=JSON.parse(localStorage.getItem('catalog'));}_this.state={catalog:catalog,find:null,loading:false};return _this;}_createClass(Catalog,[{key:\"componentDidMount\",value:function componentDidMount(){var self=this;service.getCatalog().then(function(result){if(!localStorage.getItem('catalog')||JSON.parse(localStorage.getItem('catalog'))!==result){self.setState({catalog:result});localStorage.setItem('catalog',JSON.stringify(result));}self.setState({loading:false});});}},{key:\"catalog_finded\",value:function catalog_finded(temp){temp=temp.toLowerCase();var str=this.state.find?this.state.find.toLowerCase():null;return temp.indexOf(str)!==-1?\"catalog__finded-style\":\"\";}},{key:\"modStyle\",value:function modStyle(second){if(second[2]&&second[2]===\"unmod\"){return\"catalog__second-level-unmod\";}else if(second[2]&&second[2]===\"noDisplay\"){return\"catalog__second-level-delete\";}else{return\"catalog_second-level\";}}},{key:\"modInfo\",value:function modInfo(second){if(second[2]&&second[2]===\"unmod\"){return\" (На проверке)\";}else if(second[2]&&second[2]===\"noDisplay\"){}}},{key:\"displayList\",value:function displayList(first){var _this2=this;return first.map(function(second){return/*#__PURE__*/React.createElement(\"div\",{key:second,className:_this2.modStyle(second)},/*#__PURE__*/React.createElement(Link,{className:_this2.catalog_finded(second[0]),to:\"/Article/\"+second[1]},second[0]),_this2.modInfo(second),/*#__PURE__*/React.createElement(\"div\",{className:\"catalog__reit\"},\"(\"+second[3]+\")\"));});}},{key:\"render\",value:function render(){var _this3=this;if(this.state.loading){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"cssload-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cssload-zenith\"})));}else return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"catalog\"},/*#__PURE__*/React.createElement(\"h1\",null,\" \\u041A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433 \"),/*#__PURE__*/React.createElement(FindForm,{onAdd:this.FindFormHandler}),/*#__PURE__*/React.createElement(\"div\",{className:\"catalog__container\"},this.state.catalog.map(function(global){return/*#__PURE__*/React.createElement(\"div\",{key:global,className:\"catalog_global-level\"},/*#__PURE__*/React.createElement(\"h2\",{className:_this3.catalog_finded(global[0])},global[0]),global.slice(1).map(function(first){return/*#__PURE__*/React.createElement(\"div\",{key:first,className:\"catalog_first-level\"},/*#__PURE__*/React.createElement(\"h4\",{className:_this3.catalog_finded(first[0])},first[0]),_this3.displayList(first[1]));}));}))));}}]);return Catalog;}(Component);export default Catalog;","map":{"version":3,"sources":["/home/oem/ServiceOfTutorials/frontend/src/Catalog.tsx"],"names":["React","Component","Link","Service","FindForm","service","Catalog","props","FindFormHandler","title","setState","find","catalog","localStorage","getItem","JSON","parse","state","loading","self","getCatalog","then","result","setItem","stringify","temp","toLowerCase","str","indexOf","second","first","map","modStyle","catalog_finded","modInfo","global","slice","displayList"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react';\n\nimport { Link } from 'react-router-dom';\n\n\nimport  Service  from  './Service';\nimport { FindForm } from './FindCatalog.tsx';\nconst  service  =  new  Service();\n\ninterface ParentState {\n  find:string;\n  catalog:any[];\n  loading:boolean;\n}\n\n\nclass Catalog extends Component<{}, ParentState>{\n  constructor(props) {\n    super(props);\n\n\n    let catalog : any [] = []\n    if(localStorage.getItem('catalog')){\n      catalog = JSON.parse(localStorage.getItem('catalog'))\n    }\n    this.state = {\n      catalog: catalog,\n      find: null,\n      loading: false\n    }\n  }\n  componentDidMount(){\n    var  self  =  this;\n    service.getCatalog().then(function (result) {\n      if(!localStorage.getItem('catalog') || JSON.parse(localStorage.getItem('catalog')) !== result){\n        self.setState({ catalog: result })\n        localStorage.setItem('catalog', JSON.stringify(result))\n      }\n      self.setState({ loading: false })\n    });\n  }\n\n\n  catalog_finded(temp) {\n    temp= temp.toLowerCase()\n    let str : string = this.state.find ? this.state.find.toLowerCase() : null\n    return temp.indexOf(str) !== -1 ? \"catalog__finded-style\" : \"\"\n  }\n\n\n\n\n  modStyle(second) {\n    if (second[2] && second[2] === \"unmod\") {\n      return \"catalog__second-level-unmod\"\n    } else if (second[2] && second[2] === \"noDisplay\") {\n      return \"catalog__second-level-delete\"\n    } else {\n      return \"catalog_second-level\"\n    }\n  }\n\n\n  modInfo(second) {\n    if(second[2] && second[2] === \"unmod\"){\n      return \" (На проверке)\"\n    } else if(second[2] && second[2] === \"noDisplay\"){}\n  }  \n  displayList(first){\n    return( \n      first.map( second  =>\n        <div key={second} className={this.modStyle(second)}>\n          <Link\n          className={this.catalog_finded(second[0])}\n          to={\"/Article/\"+second[1]}>{second[0]}</Link>\n          {this.modInfo(second)}\n          <div className=\"catalog__reit\" >{\"(\"+second[3]+\")\"}</div>\n          \n        </div>\n      )\n    )\n  }\n  FindFormHandler = ( title: string ) => {\n    this.setState({ find: title })\n  }\n  \n  render() {\n    if (this.state.loading) {\n      return (\n        <>\n        <div className=\"cssload-container\">\n            <div className=\"cssload-zenith\"></div>\n        </div>\n        </>\n      )\n    \n    } else return(   \n      <>\n      <div className=\"catalog\">\n\n        <h1> Каталог </h1>\n          <FindForm onAdd={this.FindFormHandler}/>\n          <div className=\"catalog__container\">\n          { \n            this.state.catalog.map( global  =>\n              <div key={global} className=\"catalog_global-level\">\n                <h2 className={this.catalog_finded(global[0])}>{global[0]}</h2>\n                { \n                  global.slice(1).map( first  =>\n                    <div key={first} className=\"catalog_first-level\">\n                      <h4 className={this.catalog_finded(first[0])}>{first[0]}</h4>\n                      {this.displayList(first[1])}\n                    </div>\n                  )\n                }\n              </div>\n            )\n          }\n          </div>\n\n        \n      </div>\n      </>\n    );\n  }\n}\n\nexport default Catalog;"]},"metadata":{},"sourceType":"module"}