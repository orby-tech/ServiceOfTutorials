{"ast":null,"code":"var _jsxFileName = \"/home/oem/ServiceOfTutorials/frontend/src/AdminRedactions.js\";\nimport React, { Component } from 'react';\nimport deletePNG from \"./img/delete.png\";\nimport upgradePNG from \"./img/upgrade.png\";\nimport Service from './Service';\nconst service = new Service();\n\nclass adminRedactions extends Component {\n  constructor(props) {\n    super(props);\n    this.goodStateAppdate = this.goodStateAppdate.bind(this);\n    this.badStateAppdate = this.badStateAppdate.bind(this);\n    this.state = {\n      id: null,\n      article: [],\n      newArticle: [],\n      reload: false,\n      loading: true\n    };\n  }\n\n  componentDidMount() {\n    var self = this;\n    service.getRedactions().then(function (result) {\n      if (result !== \"no\") {\n        self.setState({\n          article: result.article,\n          newArticle: result.newArticle,\n          id: result.id,\n          loading: false\n        });\n      } else {\n        self.setState({\n          loading: false\n        });\n      }\n    });\n  }\n\n  goodStateAppdate() {\n    if (this.state.newArticle) {\n      this.setState({\n        loading: true\n      });\n      var raw = {\n        \"id\": this.state.id,\n        \"article\": this.state.newArticle\n      };\n      var self = this;\n      service.RedactionAppdate(raw).then(function (result) {\n        if (result.toString() === \"finded\") window.location.reload();\n        self.setState({\n          loading: false\n        });\n      });\n    }\n  }\n\n  badStateAppdate() {\n    if (this.state.newArticle) {\n      this.setState({\n        loading: true\n      });\n      var raw = {\n        \"id\": this.state.id,\n        \"article\": this.state.article\n      };\n      var self = this;\n      service.RedactionAppdate(raw).then(function (result) {\n        if (result.toString() === \"finded\") window.location.reload();\n        self.setState({\n          loading: false\n        });\n      });\n    }\n  }\n\n  render() {\n    let newArticlesState = this.state.type === \"newArticles\" ? \"\" : \"admin__nonDisplay\";\n\n    if (this.state.loading) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cssload-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"cssload-zenith\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }\n      })));\n    } else if (this.state.newArticle.length === 0) {\n      return \"Нет новых статей\";\n    } else return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin__newArticlesSelectorBlock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"admin__selector\",\n      alt: \"delete\",\n      onClick: this.badStateAppdate,\n      src: deletePNG,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      className: \"admin__selector\",\n      alt: \"upgrade\",\n      onClick: this.goodStateAppdate,\n      src: upgradePNG,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin__grade\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"adminRedactions__selectedArticle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, this.state.article.map(second => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 23\n      }\n    }, \" \", second[0], \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 23\n      }\n    }, \" \", second[1], \" \")), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, this.state.newArticle.map(second => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }, \" \", second[0], \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }, \" \", second[1], \" \")))))));\n  }\n\n}\n\nexport default adminRedactions;","map":{"version":3,"sources":["/home/oem/ServiceOfTutorials/frontend/src/AdminRedactions.js"],"names":["React","Component","deletePNG","upgradePNG","Service","service","adminRedactions","constructor","props","goodStateAppdate","bind","badStateAppdate","state","id","article","newArticle","reload","loading","componentDidMount","self","getRedactions","then","result","setState","raw","RedactionAppdate","toString","window","location","render","newArticlesState","type","length","map","second"],"mappings":"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","sourcesContent":["import  React, { Component }  from 'react';\n\n\nimport  deletePNG from \"./img/delete.png\";\nimport  upgradePNG from \"./img/upgrade.png\";\nimport  Service  from  './Service';\n\n\n\nconst  service  =  new  Service();\n\n\nclass adminRedactions extends Component{\n\n  constructor(props) {\n    super(props);\n    this.goodStateAppdate = this.goodStateAppdate.bind(this)\n    this.badStateAppdate = this.badStateAppdate.bind(this)\n    this.state = {\n      id: null,\n      article: [],\n      newArticle: [],\n      reload: false,\n      loading: true\n    };\n  }\n  componentDidMount(){\n    var  self  =  this;\n    service.getRedactions().then(function (result) {\n      if(result !== \"no\"){\n        self.setState({\n          article: result.article,\n          newArticle: result.newArticle,\n          id: result.id,\n          loading:false\n        })\n      } else {\n        self.setState({\n          loading: false\n        })\n      }\n\n      })\n     \n  }\n\n  goodStateAppdate(){\n    if(this.state.newArticle){\n      \n      this.setState({loading: true})\n      var raw = {\n        \"id\": this.state.id,\n        \"article\": this.state.newArticle\n      };\n      var  self  =  this;\n      service.RedactionAppdate(raw).then(function (result) {\n        if(result.toString() === \"finded\") window.location.reload();\n        self.setState({loading: false})\n      })\n    }\n  }\n  badStateAppdate(){\n    if(this.state.newArticle){\n      \n      this.setState({loading: true})\n      var raw = {\n        \"id\": this.state.id,\n        \"article\": this.state.article\n      };\n      var  self  =  this;\n      service.RedactionAppdate(raw).then(function (result) {\n        if(result.toString() === \"finded\") window.location.reload();\n        self.setState({loading: false})\n      })\n    }\n  }\n\n\n  render() {\n    let newArticlesState = this.state.type === \"newArticles\"\n    ? \"\"\n    : \"admin__nonDisplay\"\n    if (this.state.loading) {\n      return (\n        <>\n        <div className=\"cssload-container\">\n            <div className=\"cssload-zenith\"></div>\n        </div>\n        </>\n      )\n    \n    } else if(this.state.newArticle.length===0){\n      return(\"Нет новых статей\")\n\n    } else return(\n      <div className=\"\">\n\n        <div className=\"\">\n          <div className=\"admin__newArticlesSelectorBlock\">      \n            <img \n              className=\"admin__selector\"     \n              alt=\"delete\"\n\n              onClick={this.badStateAppdate}\n              src={deletePNG}/>            \n            <img \n              className=\"admin__selector\"     \n              alt=\"upgrade\"\n              onClick={this.goodStateAppdate}\n              src={upgradePNG}/>\n          </div>\n\n          <div className=\"admin__grade\"> </div>\n\n          <div className=\"adminRedactions__selectedArticle\">\n            <table>\n              { \n                this.state.article.map( second  =>\n                  <>\n                    <tr> \n                      <td> {second[0]} </td>\n                      <td> {second[1]} </td>\n                    </tr>\n                    <tr></tr>\n                  </>\n                )\n              }\n            </table>\n            <table>\n              { \n                this.state.newArticle.map( second  =>\n                  <tr> \n                    <td> {second[0]} </td>\n                    <td> {second[1]} </td>\n                  </tr>\n                  \n                )\n              }\n            </table>\n          </div>\n\n        </div>\n\n\n\n\n\n\n      </div>\n    );\n  }\n}\n\nexport default adminRedactions;\n"]},"metadata":{},"sourceType":"module"}