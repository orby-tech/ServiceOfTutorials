{"ast":null,"code":"import _classCallCheck from\"/home/oem/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/oem/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/oem/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/oem/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/oem/ServiceOfTutorials/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import deletePNG from\"./img/delete.png\";import upgradePNG from\"./img/upgrade.png\";import Service from'./Service';var service=new Service();var adminRedactions=/*#__PURE__*/function(_Component){_inherits(adminRedactions,_Component);var _super=_createSuper(adminRedactions);function adminRedactions(props){var _this;_classCallCheck(this,adminRedactions);_this=_super.call(this,props);_this.goodStateAppdate=_this.goodStateAppdate.bind(_assertThisInitialized(_this));_this.badStateAppdate=_this.badStateAppdate.bind(_assertThisInitialized(_this));_this.state={id:null,article:[],newArticle:[],reload:false,loading:true};return _this;}_createClass(adminRedactions,[{key:\"componentDidMount\",value:function componentDidMount(){var self=this;service.getRedactions().then(function(result){if(result!==\"no\"){self.setState({article:result.article,newArticle:result.newArticle,id:result.id,loading:false});}else{self.setState({loading:false});}});}},{key:\"goodStateAppdate\",value:function goodStateAppdate(){if(this.state.newArticle){this.setState({loading:true});var raw={\"id\":this.state.id,\"article\":this.state.newArticle};var self=this;service.RedactionAppdate(raw).then(function(result){if(result.toString()===\"finded\")window.location.reload();self.setState({loading:false});});}}},{key:\"badStateAppdate\",value:function badStateAppdate(){if(this.state.newArticle){this.setState({loading:true});var raw={\"id\":this.state.id,\"article\":this.state.article};var self=this;service.RedactionAppdate(raw).then(function(result){if(result.toString()===\"finded\")window.location.reload();self.setState({loading:false});});}}},{key:\"render\",value:function render(){var newArticlesState=this.state.type===\"newArticles\"?\"\":\"admin__nonDisplay\";if(this.state.loading){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"cssload-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cssload-zenith\"})));}else if(this.state.newArticle.length===0){return\"Нет новых статей\";}else return/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"admin__newArticlesSelectorBlock\"},/*#__PURE__*/React.createElement(\"img\",{className:\"admin__selector\",alt:\"delete\",onClick:this.badStateAppdate,src:deletePNG}),/*#__PURE__*/React.createElement(\"img\",{className:\"admin__selector\",alt:\"upgrade\",onClick:this.goodStateAppdate,src:upgradePNG})),/*#__PURE__*/React.createElement(\"div\",{className:\"admin__grade\"},\" \"),/*#__PURE__*/React.createElement(\"div\",{className:\"adminRedactions__selectedArticle\"},/*#__PURE__*/React.createElement(\"table\",null,this.state.article.map(function(second){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\" \",second[0],\" \"),/*#__PURE__*/React.createElement(\"td\",null,\" \",second[1],\" \")),/*#__PURE__*/React.createElement(\"tr\",null));})),/*#__PURE__*/React.createElement(\"table\",null,this.state.newArticle.map(function(second){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\" \",second[0],\" \"),/*#__PURE__*/React.createElement(\"td\",null,\" \",second[1],\" \"));})))));}}]);return adminRedactions;}(Component);export default adminRedactions;","map":{"version":3,"sources":["/home/oem/ServiceOfTutorials/frontend/src/AdminRedactions.js"],"names":["React","Component","deletePNG","upgradePNG","Service","service","adminRedactions","props","goodStateAppdate","bind","badStateAppdate","state","id","article","newArticle","reload","loading","self","getRedactions","then","result","setState","raw","RedactionAppdate","toString","window","location","newArticlesState","type","length","map","second"],"mappings":"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","sourcesContent":["import  React, { Component }  from 'react';\n\n\nimport  deletePNG from \"./img/delete.png\";\nimport  upgradePNG from \"./img/upgrade.png\";\nimport  Service  from  './Service';\n\n\n\nconst  service  =  new  Service();\n\n\nclass adminRedactions extends Component{\n\n  constructor(props) {\n    super(props);\n    this.goodStateAppdate = this.goodStateAppdate.bind(this)\n    this.badStateAppdate = this.badStateAppdate.bind(this)\n    this.state = {\n      id: null,\n      article: [],\n      newArticle: [],\n      reload: false,\n      loading: true\n    };\n  }\n  componentDidMount(){\n    var  self  =  this;\n    service.getRedactions().then(function (result) {\n      if(result !== \"no\"){\n        self.setState({\n          article: result.article,\n          newArticle: result.newArticle,\n          id: result.id,\n          loading:false\n        })\n      } else {\n        self.setState({\n          loading: false\n        })\n      }\n\n      })\n     \n  }\n\n  goodStateAppdate(){\n    if(this.state.newArticle){\n      \n      this.setState({loading: true})\n      var raw = {\n        \"id\": this.state.id,\n        \"article\": this.state.newArticle\n      };\n      var  self  =  this;\n      service.RedactionAppdate(raw).then(function (result) {\n        if(result.toString() === \"finded\") window.location.reload();\n        self.setState({loading: false})\n      })\n    }\n  }\n  badStateAppdate(){\n    if(this.state.newArticle){\n      \n      this.setState({loading: true})\n      var raw = {\n        \"id\": this.state.id,\n        \"article\": this.state.article\n      };\n      var  self  =  this;\n      service.RedactionAppdate(raw).then(function (result) {\n        if(result.toString() === \"finded\") window.location.reload();\n        self.setState({loading: false})\n      })\n    }\n  }\n\n\n  render() {\n    let newArticlesState = this.state.type === \"newArticles\"\n    ? \"\"\n    : \"admin__nonDisplay\"\n    if (this.state.loading) {\n      return (\n        <>\n        <div className=\"cssload-container\">\n            <div className=\"cssload-zenith\"></div>\n        </div>\n        </>\n      )\n    \n    } else if(this.state.newArticle.length===0){\n      return(\"Нет новых статей\")\n\n    } else return(\n      <div className=\"\">\n\n        <div className=\"\">\n          <div className=\"admin__newArticlesSelectorBlock\">      \n            <img \n              className=\"admin__selector\"     \n              alt=\"delete\"\n\n              onClick={this.badStateAppdate}\n              src={deletePNG}/>            \n            <img \n              className=\"admin__selector\"     \n              alt=\"upgrade\"\n              onClick={this.goodStateAppdate}\n              src={upgradePNG}/>\n          </div>\n\n          <div className=\"admin__grade\"> </div>\n\n          <div className=\"adminRedactions__selectedArticle\">\n            <table>\n              { \n                this.state.article.map( second  =>\n                  <>\n                    <tr> \n                      <td> {second[0]} </td>\n                      <td> {second[1]} </td>\n                    </tr>\n                    <tr></tr>\n                  </>\n                )\n              }\n            </table>\n            <table>\n              { \n                this.state.newArticle.map( second  =>\n                  <tr> \n                    <td> {second[0]} </td>\n                    <td> {second[1]} </td>\n                  </tr>\n                  \n                )\n              }\n            </table>\n          </div>\n\n        </div>\n\n\n\n\n\n\n      </div>\n    );\n  }\n}\n\nexport default adminRedactions;\n"]},"metadata":{},"sourceType":"module"}